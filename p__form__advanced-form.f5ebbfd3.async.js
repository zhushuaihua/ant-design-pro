(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{G4y8:function(e,t,a){e.exports={card:"antd-pro-pages-form-advanced-form-style-card",errorIcon:"antd-pro-pages-form-advanced-form-style-errorIcon",anticon:"antd-pro-pages-form-advanced-form-style-anticon",errorPopover:"antd-pro-pages-form-advanced-form-style-errorPopover",errorListItem:"antd-pro-pages-form-advanced-form-style-errorListItem",errorField:"antd-pro-pages-form-advanced-form-style-errorField",editable:"antd-pro-pages-form-advanced-form-style-editable"}},LNof:function(e,t,a){e.exports={toolbar:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-toolbar",left:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-left",right:"antd-pro-pages-form-advanced-form-components-footer-toolbar-index-right"}},"Q++t":function(e,t,a){"use strict";a.r(t);a("+L6B");var n=a("2/Rp"),r=(a("Xi6J"),a("kl6h")),o=(a("IzEo"),a("bx4M")),l=(a("14J3"),a("BMrR")),c=(a("jCWc"),a("kPKH")),i=(a("5NDa"),a("5rEg")),u=(a("Q9mQ"),a("diRs")),s=(a("y8nQ"),a("Vl3Y")),m=a("tJVT"),p=(a("iQDF"),a("+eQT")),d=(a("OaEy"),a("2fM7")),f=a("2BaD"),v=a("q1tI"),b=a.n(v),y=a("Hx5s"),E=a("9kvl"),g=(a("g9YV"),a("wCAj")),h=(a("cIOH"),a("sKbD")),k=a.n(h),O=a("3S7+"),w=a("YMnH"),j=a("ZvpZ"),C=a("H84U");function x(e){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},N.apply(this,arguments)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,a){return t&&P(e.prototype,t),a&&P(e,a),e}function R(e){return function(){var t,a=V(e);if(T()){var n=V(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return F(this,t)}}function F(e,t){return!t||"object"!==x(t)&&"function"!==typeof t?q(e):t}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function D(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}var _=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},B=function(e){D(a,e);var t=R(a);function a(e){var r;return I(this,a),r=t.call(this,e),r.onConfirm=function(e){r.setVisible(!1,e);var t=r.props.onConfirm;t&&t.call(q(r),e)},r.onCancel=function(e){r.setVisible(!1,e);var t=r.props.onCancel;t&&t.call(q(r),e)},r.onVisibleChange=function(e){var t=r.props.disabled;t||r.setVisible(e)},r.saveTooltip=function(e){r.tooltip=e},r.renderOverlay=function(e,t){var a=r.props,o=a.okButtonProps,l=a.cancelButtonProps,c=a.title,i=a.cancelText,u=a.okText,s=a.okType,m=a.icon;return v["createElement"]("div",null,v["createElement"]("div",{className:"".concat(e,"-inner-content")},v["createElement"]("div",{className:"".concat(e,"-message")},m,v["createElement"]("div",{className:"".concat(e,"-message-title")},c)),v["createElement"]("div",{className:"".concat(e,"-buttons")},v["createElement"](n["a"],N({onClick:r.onCancel,size:"small"},l),i||t.cancelText),v["createElement"](n["a"],N({onClick:r.onConfirm,type:s,size:"small"},o),u||t.okText))))},r.renderConfirm=function(e){var t=e.getPrefixCls,a=r.props,n=a.prefixCls,o=a.placement,l=_(a,["prefixCls","placement"]),c=t("popover",n),i=v["createElement"](w["a"],{componentName:"Popconfirm",defaultLocale:j["a"].Popconfirm},(function(e){return r.renderOverlay(c,e)}));return v["createElement"](O["a"],N({},l,{prefixCls:c,placement:o,onVisibleChange:r.onVisibleChange,visible:r.state.visible,overlay:i,ref:r.saveTooltip}))},r.state={visible:e.visible},r}return S(a,[{key:"getPopupDomNode",value:function(){return this.tooltip.getPopupDomNode()}},{key:"setVisible",value:function(e,t){var a=this.props;"visible"in a||this.setState({visible:e});var n=a.onVisibleChange;n&&n(e,t)}},{key:"render",value:function(){return v["createElement"](C["a"],null,this.renderConfirm)}}],[{key:"getDerivedStateFromProps",value:function(e){return"visible"in e?{visible:e.visible}:"defaultVisible"in e?{visible:e.defaultVisible}:null}}]),a}(v["Component"]);B.defaultProps={transitionName:"zoom-big",placement:"top",trigger:"click",okType:"primary",icon:v["createElement"](k.a,null),disabled:!1};var A=B,J=(a("/zsF"),a("PArb")),M=(a("miYZ"),a("tsqr")),Q=a("oBTY"),K=a("k1fw"),Y=a("xvlK"),W=a("G4y8"),z=a.n(W),H=function(e){var t=e.value,a=e.onChange,r=Object(v["useState"])(!1),o=Object(m["a"])(r,2),l=o[0],c=o[1],u=Object(v["useState"])(!1),s=Object(m["a"])(u,2),p=s[0],d=s[1],f=Object(v["useState"])(0),y=Object(m["a"])(f,2),E=y[0],h=y[1],k=Object(v["useState"])({}),O=Object(m["a"])(k,2),w=O[0],j=O[1],C=Object(v["useState"])(t),x=Object(m["a"])(C,2),N=x[0],I=x[1],P=function(e,t){var a;return null===(a=t||N)||void 0===a?void 0:a.filter((function(t){return t.key===e}))[0]},S=function(e,t){e.preventDefault();var a=null===N||void 0===N?void 0:N.map((function(e){return Object(K["a"])({},e)})),n=P(t,a);n&&(n.editable||(w[t]=Object(K["a"])({},n),j(w)),n.editable=!n.editable,I(a))},R=function(){var e=(null===N||void 0===N?void 0:N.map((function(e){return Object(K["a"])({},e)})))||[];null===e||void 0===e||e.push({key:"NEW_TEMP_ID_".concat(E),workId:"",name:"",department:"",editable:!0,isNew:!0}),h(E+1),I(e)},F=function(e){var t=null===N||void 0===N?void 0:N.filter((function(t){return t.key!==e}));I(t),a&&a(t)},q=function(e,t,a){var n=Object(Q["a"])(N),r=P(a,n);r&&(r[t]=e.target.value,I(n))},T=function(e,t){e.persist(),d(!0),setTimeout((function(){if(l)c(!1);else{var n=P(t)||{};if(!n.workId||!n.name||!n.department)return M["a"].error("\u8bf7\u586b\u5199\u5b8c\u6574\u6210\u5458\u4fe1\u606f\u3002"),e.target.focus(),void d(!1);delete n.isNew,S(e,t),a&&a(N),d(!1)}}),500)},V=function(e,t){"Enter"===e.key&&T(e,t)},D=function(e,t){c(!0),e.preventDefault();var a=Object(Q["a"])(N),n=[];n=a.map((function(e){if(e.key===t&&w[t]){var a=Object(K["a"])({},e,{},w[t],{editable:!1});return delete w[t],j(w),a}return e})),I(n),c(!1)},L=[{title:"\u6210\u5458\u59d3\u540d",dataIndex:"name",key:"name",width:"20%",render:function(e,t){return t.editable?b.a.createElement(i["a"],{value:e,autoFocus:!0,onChange:function(e){return q(e,"name",t.key)},onKeyPress:function(e){return V(e,t.key)},placeholder:"\u6210\u5458\u59d3\u540d"}):e}},{title:"\u5de5\u53f7",dataIndex:"workId",key:"workId",width:"20%",render:function(e,t){return t.editable?b.a.createElement(i["a"],{value:e,onChange:function(e){return q(e,"workId",t.key)},onKeyPress:function(e){return V(e,t.key)},placeholder:"\u5de5\u53f7"}):e}},{title:"\u6240\u5c5e\u90e8\u95e8",dataIndex:"department",key:"department",width:"40%",render:function(e,t){return t.editable?b.a.createElement(i["a"],{value:e,onChange:function(e){return q(e,"department",t.key)},onKeyPress:function(e){return V(e,t.key)},placeholder:"\u6240\u5c5e\u90e8\u95e8"}):e}},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return t.editable&&p?null:t.editable?t.isNew?b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return T(e,t.key)}},"\u6dfb\u52a0"),b.a.createElement(J["a"],{type:"vertical"}),b.a.createElement(A,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return F(t.key)}},b.a.createElement("a",null,"\u5220\u9664"))):b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return T(e,t.key)}},"\u4fdd\u5b58"),b.a.createElement(J["a"],{type:"vertical"}),b.a.createElement("a",{onClick:function(e){return D(e,t.key)}},"\u53d6\u6d88")):b.a.createElement("span",null,b.a.createElement("a",{onClick:function(e){return S(e,t.key)}},"\u7f16\u8f91"),b.a.createElement(J["a"],{type:"vertical"}),b.a.createElement(A,{title:"\u662f\u5426\u8981\u5220\u9664\u6b64\u884c\uff1f",onConfirm:function(){return F(t.key)}},b.a.createElement("a",null,"\u5220\u9664")))}}];return b.a.createElement(b.a.Fragment,null,b.a.createElement(g["a"],{loading:p,columns:L,dataSource:N,pagination:!1,rowClassName:function(e){return e.editable?z.a.editable:""}}),b.a.createElement(n["a"],{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:R},b.a.createElement(Y["a"],null),"\u65b0\u589e\u6210\u5458"))},Z=H,G=a("0Owb"),U=a("PpiC"),X=a("fWQN"),$=a("mtLc"),ee=a("Nsem"),te=a("oZsa"),ae=a("yKVA"),ne=a("TSYQ"),re=a.n(ne),oe=a("LNof"),le=a.n(oe);function ce(e){return function(){var t,a=Object(te["a"])(e);if(ie()){var n=Object(te["a"])(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return Object(ee["a"])(this,t)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ue=function(e){Object(ae["a"])(a,e);var t=ce(a);function a(){var e;Object(X["a"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.getWidth=function(e){var t=e.collapsed,a=e.isMobile,n=e.siderWidth,r=document.querySelector(".ant-layout-sider");if(r)return a?void 0:"calc(100% - ".concat(t?80:n||256,"px)")},e}return Object($["a"])(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,n=t.className,r=t.extra,o=Object(U["a"])(t,["children","className","extra"]);return b.a.createElement(y["e"].Consumer,null,(function(t){return b.a.createElement("div",Object(G["a"])({className:re()(n,le.a.toolbar),style:{width:e.getWidth(t),transition:"0.3s all"}},o),b.a.createElement("div",{className:le.a.left},r),b.a.createElement("div",{className:le.a.right},a))}))}}]),a}(v["Component"]),se=d["a"].Option,me=p["a"].RangePicker,pe={name:"\u4ed3\u5e93\u540d",url:"\u4ed3\u5e93\u57df\u540d",owner:"\u4ed3\u5e93\u7ba1\u7406\u5458",approver:"\u5ba1\u6279\u4eba",dateRange:"\u751f\u6548\u65e5\u671f",type:"\u4ed3\u5e93\u7c7b\u578b",name2:"\u4efb\u52a1\u540d",url2:"\u4efb\u52a1\u63cf\u8ff0",owner2:"\u6267\u884c\u4eba",approver2:"\u8d23\u4efb\u4eba",dateRange2:"\u751f\u6548\u65e5\u671f",type2:"\u4efb\u52a1\u7c7b\u578b"},de=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],fe=function(e){var t=e.submitting,a=e.dispatch,p=s["a"].useForm(),E=Object(m["a"])(p,1),g=E[0],h=Object(v["useState"])([]),k=Object(m["a"])(h,2),O=k[0],w=k[1],j=function(e){var t=e.filter((function(e){return e.errors.length>0})).length;if(!e||0===t)return null;var a=function(e){var t=document.querySelector('label[for="'.concat(e,'"]'));t&&t.scrollIntoView(!0)},n=e.map((function(e){if(!e||0===e.errors.length)return null;var t=e.name[0];return b.a.createElement("li",{key:t,className:z.a.errorListItem,onClick:function(){return a(t)}},b.a.createElement(f["a"],{className:z.a.errorIcon}),b.a.createElement("div",{className:z.a.errorMessage},e.errors[0]),b.a.createElement("div",{className:z.a.errorField},pe[t]))}));return b.a.createElement("span",{className:z.a.errorIcon},b.a.createElement(u["a"],{title:"\u8868\u5355\u6821\u9a8c\u4fe1\u606f",content:n,overlayClassName:z.a.errorPopover,trigger:"click",getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}},b.a.createElement(f["a"],null)),t)},C=function(e){w([]),a({type:"formAndadvancedForm/submitAdvancedForm",payload:e})},x=function(e){console.log("Failed:",e),w(e.errorFields)};return b.a.createElement(s["a"],{form:g,layout:"vertical",hideRequiredMark:!0,initialValues:{members:de},onFinish:C,onFinishFailed:x},b.a.createElement(y["c"],{content:"\u9ad8\u7ea7\u8868\u5355\u5e38\u89c1\u4e8e\u4e00\u6b21\u6027\u8f93\u5165\u548c\u63d0\u4ea4\u5927\u6279\u91cf\u6570\u636e\u7684\u573a\u666f\u3002"},b.a.createElement(o["a"],{title:"\u4ed3\u5e93\u7ba1\u7406",className:z.a.card,bordered:!1},b.a.createElement(l["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:pe.name,name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165\u4ed3\u5e93\u540d\u79f0"}))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:pe.url,name:"url",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},b.a.createElement(i["a"],{style:{width:"100%"},addonBefore:"http://",addonAfter:".com",placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:pe.owner,name:"owner",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},b.a.createElement(se,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(se,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),b.a.createElement(l["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:pe.approver,name:"approver",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},b.a.createElement(se,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(se,{value:"mao"},"\u5468\u6bdb\u6bdb")))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:pe.dateRange,name:"dateRange",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u751f\u6548\u65e5\u671f"}]},b.a.createElement(me,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:"100%"}}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:pe.type,name:"type",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},b.a.createElement(se,{value:"private"},"\u79c1\u5bc6"),b.a.createElement(se,{value:"public"},"\u516c\u5f00")))))),b.a.createElement(o["a"],{title:"\u4efb\u52a1\u7ba1\u7406",className:z.a.card,bordered:!1},b.a.createElement(l["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:pe.name2,name:"name2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:pe.url2,name:"url2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]},b.a.createElement(i["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:pe.owner2,name:"owner2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u7ba1\u7406\u5458"},b.a.createElement(se,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(se,{value:"mao"},"\u5468\u6bdb\u6bdb"))))),b.a.createElement(l["a"],{gutter:16},b.a.createElement(c["a"],{lg:6,md:12,sm:24},b.a.createElement(s["a"].Item,{label:pe.approver2,name:"approver2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u5ba1\u6279\u5458"},b.a.createElement(se,{value:"xiao"},"\u4ed8\u6653\u6653"),b.a.createElement(se,{value:"mao"},"\u5468\u6bdb\u6bdb")))),b.a.createElement(c["a"],{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},b.a.createElement(s["a"].Item,{label:pe.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165"}]},b.a.createElement(r["a"],{placeholder:"\u63d0\u9192\u65f6\u95f4",style:{width:"100%"},getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e}}))),b.a.createElement(c["a"],{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},b.a.createElement(s["a"].Item,{label:pe.type2,name:"type2",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"}]},b.a.createElement(d["a"],{placeholder:"\u8bf7\u9009\u62e9\u4ed3\u5e93\u7c7b\u578b"},b.a.createElement(se,{value:"private"},"\u79c1\u5bc6"),b.a.createElement(se,{value:"public"},"\u516c\u5f00")))))),b.a.createElement(o["a"],{title:"\u6210\u5458\u7ba1\u7406",bordered:!1},b.a.createElement(s["a"].Item,{name:"members"},b.a.createElement(Z,null)))),b.a.createElement(ue,null,j(O),b.a.createElement(n["a"],{type:"primary",onClick:function(){return null===g||void 0===g?void 0:g.submit()},loading:t},"\u63d0\u4ea4")))};t["default"]=Object(E["b"])((function(e){var t=e.loading;return{submitting:t.effects["formAndadvancedForm/submitAdvancedForm"]}}))(fe)}}]);